---
- hosts: all
  vars:
    remote_user: "{{ localuser }}"
    user: "{{ localuser }}"
    dotfiles_src: dot-files
    dotfiles_profile: personal
    git_user_name: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66373161633739636538343666343631656264613237383562636430313437623332646663386335
          3130666239666537383964313662373437356633343530380a396361353866343337656561636163
          64626330373230656136346365643431313539663964323164346335303132626561303733613135
          3265313730396531660a656432623633633836383438393432613232313838653839396336653364
          3366
    git_user_email: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66653637396631633837663431646636306333373535333237303334356665363661616333376631
          3036376133353636633139303364613131303264323236620a613232326237363836623137393639
          36393263633665316461326332646633333535653234343236666362306339373233336265306164
          6632313764313634620a363837386632663432646462653164643238346136373266623866383362
          36383239346462383334393638666262323337363664353963336365313237633233
    git_user_signkey: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61323537373930636163303133343838613566333131363462343666343630663537376162326361
          6362306334326631313731653261653863396265313132300a386461383566333965336435386639
          37653335396436663934646630323932363464653564663437633435663665386437363265343037
          3263343939656361300a656632316164633961356362346438323534666637636264313135613162
          63643464636634346436663961323663383235353939316638663632333833336363
  roles:
    #- core
    - dotfiles
    - configfiles
    - git
    # - zsh

- name: Include backup playbook to setup remote backup
  import_playbook: playbooks/backup.yml
  when: remote_backup is defined
- name: Include backup playbook to setup local backup
  import_playbook: playbooks/backup_local.yml
  when: local_backup is defined